import { ElementType, ReactElement } from "react";
import { XYCoord } from "react-dnd";
export declare type Partial<T> = {
    [P in keyof T]?: T[P];
};
export declare type NodeModel<T = unknown> = {
    id: number | string;
    parent: number | string;
    text: string;
    droppable?: boolean;
    data?: T;
};
export declare type DragItem<T> = NodeModel<T> & {
    type: symbol;
    ref: React.MutableRefObject<HTMLElement>;
};
export declare type RenderParams = {
    depth: number;
    isOpen: boolean;
    draggable: boolean;
    hasChild: boolean;
    onToggle(): void;
};
export declare type NodeRender<T> = (node: NodeModel<T>, params: RenderParams) => ReactElement;
export declare type ClickHandler = (data: NodeModel) => void;
export declare type DropHandler = (id: NodeModel["id"], parent: NodeModel["id"], index: number) => void;
export declare type CanDropHandler = (id: NodeModel["id"], parent: NodeModel["id"]) => boolean | void;
export declare type CanDragHandler = (id: NodeModel["id"]) => boolean;
export declare type Classes = {
    root?: string;
    container?: string;
    dropTarget?: string;
    draggingSource?: string;
    placeholder?: string;
};
export declare type ToggleHandler = (id: NodeModel["id"]) => void;
export declare type SortCallback = (a: NodeModel, b: NodeModel) => number;
export declare type DragLayerMonitorProps<T> = {
    item: DragItem<T>;
    clientOffset: XYCoord | null;
    isDragging: boolean;
};
export declare type DragPreviewRender<T> = (monitorProps: DragLayerMonitorProps<T>) => ReactElement;
export declare type PlaceholderRenderParams = {
    depth: number;
};
export declare type PlaceholderRender<T> = (node: NodeModel<T>, params: PlaceholderRenderParams) => ReactElement;
export declare type DragOverProps = {
    onDragEnter: () => void;
    onDragLeave: () => void;
    onDrop: () => void;
};
export declare type OpenHandler = (targetIds: NodeModel["id"] | NodeModel["id"][]) => void;
export declare type CloseHandler = (targetIds: NodeModel["id"] | NodeModel["id"][]) => void;
export declare type InitialOpen = boolean | NodeModel["id"][];
export declare type DragSourceElement = EventTarget | null;
export declare type DragControlState = {
    isLock: boolean;
    lock: () => void;
    unlock: () => void;
};
export declare type PlaceholderState = {
    dropTargetId: NodeModel["id"] | undefined;
    index: number | undefined;
    showPlaceholder: (parentId: NodeModel["id"], index: number) => void;
    hidePlaceholder: () => void;
};
export declare type TreeStateBase<T> = {
    tree: NodeModel<T>[];
    rootId: NodeModel["id"];
    classes?: Classes;
    render: NodeRender<T>;
    dragPreviewRender?: DragPreviewRender<T>;
    placeholderRender?: PlaceholderRender<T>;
};
export declare type TreeState<T> = TreeStateBase<T> & {
    listComponent: ElementType;
    listItemComponent: ElementType;
    placeholderComponent: ElementType;
    sort: SortCallback | boolean;
    insertDroppableFirst: boolean;
    dropTargetOffset: number;
    initialOpen: InitialOpen;
    openIds: NodeModel["id"][];
    onDrop: DropHandler;
    canDrop?: CanDropHandler;
    canDrag?: CanDragHandler;
    onToggle: ToggleHandler;
};
export declare type TreeProps<T> = TreeStateBase<T> & {
    listComponent?: ElementType;
    listItemComponent?: ElementType;
    placeholderComponent?: ElementType;
    sort?: SortCallback | boolean;
    insertDroppableFirst?: boolean;
    dropTargetOffset?: number;
    initialOpen?: InitialOpen;
    onDrop: (tree: NodeModel<T>[], options: {
        dragSourceId: NodeModel["id"];
        dropTargetId: NodeModel["id"];
        dragSource: NodeModel<T> | undefined;
        dropTarget: NodeModel<T> | undefined;
    }) => void;
    canDrop?: (tree: NodeModel<T>[], options: {
        dragSourceId: NodeModel["id"];
        dropTargetId: NodeModel["id"];
        dragSource: NodeModel<T> | undefined;
        dropTarget: NodeModel<T> | undefined;
    }) => boolean | void;
    canDrag?: (node: NodeModel<T> | undefined) => boolean;
};
export declare type TreeMethods = {
    open: OpenHandler;
    close: CloseHandler;
    openAll(): void;
    closeAll(): void;
};
